Picked up JAVA_TOOL_OPTIONS: -agentlib:jdwp=transport=dt_socket,address=*:8000,server=y,suspend=n
Listening for transport dt_socket at address: 8000
2023-07-07 22:03:48,825  INFO GempukkuServer:20 - GempukkuServer loading prerequisites...
2023-07-07 22:03:48,838 DEBUG ServerBuilder:28 - Calling CreatePrerequisites function
2023-07-07 22:03:49,453  INFO LotroCardBlueprintLibrary:58 - Locking blueprint library in constructor
2023-07-07 22:03:49,455  INFO LotroCardBlueprintLibrary:61 - Unlocking blueprint library in constructor
2023-07-07 22:03:49,511 DEBUG LotroCardBlueprintLibrary:158 - Loading set 1 (The Fellowship of the Ring) to _allsets
2023-07-07 22:03:49,660 DEBUG LotroCardBlueprintLibrary:235 - Loaded JSON card file set1.hjson
2023-07-07 22:03:49,666 DEBUG LotroCardBlueprintLibrary:257 - Java cards for set 1 successfully loaded
2023-07-07 22:03:50,007 DEBUG ProductLibrary:86 - Loading pack definitions for FotR - Booster
2023-07-07 22:03:50,045 DEBUG ServerBuilder:39 - Ending CreatePrerequisites function
2023-07-07 22:03:50,046  INFO GempukkuServer:23 - GempukkuServer loading DAOs...
2023-07-07 22:03:50,257  INFO GempukkuServer:25 - GempukkuServer loading services...
2023-07-07 22:03:50,258 DEBUG ServerBuilder:43 - Calling CreateServices function
2023-07-07 22:03:50,703 TRACE Game Hall:103 - System: Welcome to room: Game Hall
2023-07-07 22:03:50,724 DEBUG ServerBuilder:136 - Ending CreateServices function
2023-07-07 22:03:50,726  INFO GempukkuServer:27 - GempukkuServer starting servers...
2023-07-07 22:03:50,730 DEBUG ServerCleaner:15 - Adding server: class com.gempukku.lotro.hall.HallServer
2023-07-07 22:03:50,735 DEBUG AbstractServer:18 - Started: HallServer
2023-07-07 22:03:51,031 DEBUG LoggingProxy:34 - TournamentDAO::getUnstartedScheduledTournamentQueues(...) 286ms
2023-07-07 22:03:51,032 DEBUG LoggingProxy:34 - TournamentDAO::getUnfinishedTournaments(...) 290ms
Exception in thread "main" java.lang.RuntimeException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.gempukku.lotro.db.DbTournamentDAO.getUnfinishedTournaments(DbTournamentDAO.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at com.gempukku.lotro.log.LoggingProxy.lambda$createLoggingProxy$0(LoggingProxy.java:21)
	at jdk.proxy2/jdk.proxy2.$Proxy5.getUnfinishedTournaments(Unknown Source)
	at com.gempukku.lotro.tournament.TournamentService.getLiveTournaments(TournamentService.java:129)
	at com.gempukku.lotro.hall.HallServer.doAfterStartup(HallServer.java:279)
	at com.gempukku.lotro.AbstractServer.startServer(AbstractServer.java:19)
	at com.gempukku.lotro.builder.ServerBuilder.StartServers(ServerBuilder.java:147)
	at com.gempukku.lotro.async.GempukkuServer.<init>(GempukkuServer.java:28)
	at com.gempukku.lotro.async.LotroAsyncServer.main(LotroAsyncServer.java:25)
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:191)
2023-07-07 22:03:51,036 ERROR ServerCleaner:43 - Error while cleaning up a server
java.lang.RuntimeException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.gempukku.lotro.db.DbTournamentDAO.getUnstartedScheduledTournamentQueues(DbTournamentDAO.java:162)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:577)
	at com.gempukku.lotro.log.LoggingProxy.lambda$createLoggingProxy$0(LoggingProxy.java:21)
	at jdk.proxy2/jdk.proxy2.$Proxy5.getUnstartedScheduledTournamentQueues(Unknown Source)
	at com.gempukku.lotro.tournament.TournamentService.getUnstartedScheduledTournamentQueues(TournamentService.java:184)
	at com.gempukku.lotro.hall.HallServer.cleanup(HallServer.java:834)
	at com.gempukku.lotro.ServerCleaner$CleaningThread.run(ServerCleaner.java:40)
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:191)
	at org.apache.commons.dbcp.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:78)
	at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)
	at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1148)
	at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)
	at com.gempukku.lotro.db.DbTournamentDAO.getUnstartedScheduledTournamentQueues(DbTournamentDAO.java:148)
	... 7 more
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 17 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 20 more
	at org.apache.commons.dbcp.DriverManagerConnectionFactory.createConnection(DriverManagerConnectionFactory.java:78)
	at org.apache.commons.dbcp.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:582)
	at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1148)
	at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)
	at com.gempukku.lotro.db.DbTournamentDAO.getUnfinishedTournaments(DbTournamentDAO.java:73)
	... 10 more
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 20 more
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:579)
	at java.base/sun.nio.ch.Net.connect(Net.java:568)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:585)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 23 more
Picked up JAVA_TOOL_OPTIONS: -agentlib:jdwp=transport=dt_socket,address=*:8000,server=y,suspend=n
Listening for transport dt_socket at address: 8000
log4j:WARN No such property [immediateFlush] in org.apache.log4j.PatternLayout.
log4j:WARN No such property [bufferSize] in org.apache.log4j.PatternLayout.
log4j:WARN No such property [immediateFlush] in org.apache.log4j.PatternLayout.
log4j:WARN No such property [bufferSize] in org.apache.log4j.PatternLayout.
log4j:WARN No such property [immediateFlush] in org.apache.log4j.PatternLayout.
log4j:WARN No such property [bufferSize] in org.apache.log4j.PatternLayout.
2023-07-07 22:10:12,339  INFO GempukkuServer:20 - GempukkuServer loading prerequisites...
2023-07-07 22:10:12,360 DEBUG ServerBuilder:28 - Calling CreatePrerequisites function
2023-07-07 22:10:13,005  INFO LotroCardBlueprintLibrary:58 - Locking blueprint library in constructor
2023-07-07 22:10:13,007  INFO LotroCardBlueprintLibrary:61 - Unlocking blueprint library in constructor
2023-07-07 22:10:13,063 DEBUG LotroCardBlueprintLibrary:158 - Loading set 1 (The Fellowship of the Ring) to _allsets
2023-07-07 22:10:13,202 DEBUG LotroCardBlueprintLibrary:235 - Loaded JSON card file set1.hjson
2023-07-07 22:10:13,207 DEBUG LotroCardBlueprintLibrary:257 - Java cards for set 1 successfully loaded
2023-07-07 22:10:13,618 DEBUG ProductLibrary:86 - Loading pack definitions for FotR - Booster
2023-07-07 22:10:13,673 DEBUG ServerBuilder:39 - Ending CreatePrerequisites function
2023-07-07 22:10:13,676  INFO GempukkuServer:23 - GempukkuServer loading DAOs...
2023-07-07 22:10:13,903  INFO GempukkuServer:25 - GempukkuServer loading services...
2023-07-07 22:10:13,908 DEBUG ServerBuilder:43 - Calling CreateServices function
2023-07-07 22:10:14,561 TRACE Game Hall:103 - System: Welcome to room: Game Hall
2023-07-07 22:10:14,596 DEBUG ServerBuilder:136 - Ending CreateServices function
2023-07-07 22:10:14,600  INFO GempukkuServer:27 - GempukkuServer starting servers...
2023-07-07 22:10:14,605 DEBUG AbstractServer:15 - Starting startServer function for HallServer
2023-07-07 22:10:14,608 DEBUG ServerCleaner:15 - Adding server: class com.gempukku.lotro.hall.HallServer
2023-07-07 22:10:14,615 DEBUG AbstractServer:19 - Started: HallServer
2023-07-07 22:10:15,356  INFO LoggingProxy:32 - TournamentDAO::getUnfinishedTournaments(...) 732ms
2023-07-07 22:10:15,359  INFO LoggingProxy:32 - TournamentDAO::getUnstartedScheduledTournamentQueues(...) 734ms
2023-07-07 22:10:15,359 DEBUG AbstractServer:15 - Starting startServer function for LotroServer
2023-07-07 22:10:15,363 DEBUG ServerCleaner:15 - Adding server: class com.gempukku.lotro.game.LotroServer
2023-07-07 22:10:15,365 DEBUG AbstractServer:19 - Started: LotroServer
2023-07-07 22:10:15,369 DEBUG AbstractServer:15 - Starting startServer function for ChatServer
2023-07-07 22:10:15,371 DEBUG ServerCleaner:15 - Adding server: class com.gempukku.lotro.chat.ChatServer
2023-07-07 22:10:15,374 DEBUG AbstractServer:19 - Started: ChatServer
2023-07-07 22:10:15,376  INFO GempukkuServer:29 - GempukkuServer startup complete.
2023-07-07 22:10:40,762 DEBUG LoggingProxy:34 - GameHistoryDAO::getGamesPlayedCount(...) 227ms
2023-07-07 22:10:45,279 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:10:45,283 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:10:50,431 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:10:50,434 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:10:56,342 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:10:56,347 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:02,257 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:02,261 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:08,267 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:08,270 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:14,279 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:14,282 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:20,288 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:20,291 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:26,298 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:26,302 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:32,310 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:32,313 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:38,321 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:38,344 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:44,333 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:44,336 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:50,244 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:50,247 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:11:56,256 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:11:56,258 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:02,267 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:02,270 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:08,279 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:08,282 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:14,290 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:14,293 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:20,301 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:20,304 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:26,312 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:26,315 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:32,326 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:32,330 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:38,338 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:38,341 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:43,547 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:43,550 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:49,259 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:49,262 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:12:55,270 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:12:55,274 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:13:01,281 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:13:01,285 DEBUG HallServer:615 - Ending processHall function
2023-07-07 22:13:07,291 DEBUG HallServer:586 - Starting processHall function
2023-07-07 22:13:07,296 DEBUG HallServer:615 - Ending processHall function
